<script>
  import { fallbackUserImage } from "./constants";

  /**
   * @type {{ author: { username: string; image: string; }; createdAt: string, updatedAt?: string, body: string }}
   */
  export let comment;
  const createAt = new Date(Date.parse(comment.createdAt));
  /**
   * @type Date | undefined
   */
  let updatedAt = comment.updatedAt
    ? new Date(Date.parse(comment.updatedAt))
    : undefined;
</script>

<div class="card">
  <div class="card-block">
    <p class="card-text">{comment.body}</p>
  </div>
  <div class="card-footer">
    <a href={`/profile/${comment.author.username}`} class="comment-author">
      <img src={comment.author.image} class="comment-author-img" />
    </a>
    &nbsp;
    <a href={`/profile/${comment.author.username}`} class="comment-author">
      {comment.author.username}
    </a>
    <span class="date-posted"><b>{createAt.toLocaleDateString()}</b></span>
  </div>
</div>
